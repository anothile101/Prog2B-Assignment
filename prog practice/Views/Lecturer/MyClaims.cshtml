  @model IEnumerable<prog_practice.Models.Claim>

<h2 style="text-align:center; color:black;">My Claims</h2>
<hr />

<!-- Filter Section -->
<div style="margin-bottom:15px;display:flex;justify-content:center;gap:10px;align-items:center;">
    <form method="get" asp-action="MyClaims" style="display:flex;gap:10px;align-items:center;flex-wrap:wrap;justify-content:center;">
        <label>Date:</label>
        <input type="date" name="searchDate" style="padding:5px;border-radius:6px;border:1px solid #ccc;" />
        <label>Status:</label>
        <select name="status" style="padding:5px;border-radius:6px;border:1px solid #ccc;">
            <option value="">All</option>
            <option>Pending</option>
            <option>Approved</option>
            <option>Rejected</option>
        </select>
        <button type="submit" style="background:#007bff;color:white;padding:6px 15px;border-radius:6px;border:none;">Apply Filter</button>
        <a href="/Lecturer/MyClaims" style="background:#6c757d;color:white;padding:6px 15px;border-radius:6px;text-decoration:none;">Reset</a>
    </form>
</div>

<!-- Claims Table -->
<div style="max-width:950px; margin:auto; background:#f9f9f9; border-radius:15px; padding:20px;
            box-shadow:0 4px 10px rgba(0,0,0,0.1); font-family:Arial, sans-serif;">
    <table style="width:100%; border-collapse:collapse; text-align:center;">
        <thead>
            <tr style="background:#007bff; color:white;">
                <th style="padding:10px;">ID</th>
                <th style="padding:10px;">Lecturer Name</th>
                <th style="padding:10px;">Title</th>
                <th style="padding:10px;">Month</th>
                <th style="padding:10px;">Total</th>
                <th style="padding:10px;">Status</th>
                <th style="padding:10px;">Document</th>
                <th style="padding:10px;">Actions</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var c in Model)
            {
                var color = c.Status == "Approved" ? "green" : (c.Status == "Rejected" ? "red" : "orange");
                <tr style="border-bottom:1px solid #eee;">
                    <td style="padding:10px;">@c.ClaimID</td>
                    <td style="padding:10px;">@c.LecturerName</td>
                    <td style="padding:10px;">@c.Title</td>
                    <td style="padding:10px;">@c.Month</td>
                    <td style="padding:10px;">@("R" + c.Amount.ToString("0.00"))</td>
                    <td style="padding:10px; color:@color; font-weight:bold;">@c.Status</td>
                    <td style="padding:10px;">
                        @(string.IsNullOrEmpty(c.DocumentPath)
                            ? "—"
                            : Html.Raw($"<a href='{c.DocumentPath}' target='_blank'>View</a>"))
                    </td>
                    <td style="padding:10px;">
                        <a href="/Lecturer/SimulateApproval/@c.ClaimID?status=Approved" style="color:green; text-decoration:none;">Approve</a> |
                        <a href="/Lecturer/SimulateApproval/@c.ClaimID?status=Rejected" style="color:red; text-decoration:none;">Reject</a>
                    </td>
                </tr>
            }
        </tbody>
    </table>

    <div style="text-align:center; margin-top:20px;">
        <a href="/Lecturer/Dashboard" style="background:#6c757d; color:white; padding:10px 20px; border-radius:10px; text-decoration:none;">Back</a>
    </div>
</div>

