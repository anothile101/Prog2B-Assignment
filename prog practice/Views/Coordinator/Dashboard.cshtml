@model IEnumerable<prog_practice.Models.Claim>

<h2 style="text-align:left; color:black;">Welcome Programme Coordinator,</h2>
<hr />
<div style="background:#f9f9f9;border-radius:15px;padding:20px;margin-bottom:25px;
            box-shadow:0 4px 10px rgba(0,0,0,0.1);text-align:center;">
    <h4 style="color:black;margin-bottom:15px;">Quick Access</h4>

    <table style="width:auto; margin:auto; border-spacing:10px; text-align:center;">
        <tr>
            @* <td>
                <a href="/Coordinator/Dashboard?filter=pending"
                   style="background:white;color:#007bff;padding:8px 18px;
                          border-radius:8px;text-decoration:none;display:inline-block;
                            border:1px solid #007bff;font-size:14px;">
                    Review Pending Claims
                </a>
            </td> *@
            @* <td>
                <a href="/Coordinator/ManageLecturers"
                   style="background:white;color:#007bff;padding:8px 18px;
                          border-radius:8px;text-decoration:none;display:inline-block;
                           border:1px solid #007bff; font-size:14px;">
                    Manage Lecturers
                </a>
            </td>
            <td>
                <a href="/Coordinator/Reports"
                   style="background:white;color:#007bff;padding:8px 18px;
                          border-radius:8px;text-decoration:none;display:inline-block;
                          border:1px solid #007bff;font-size:14px;">
                    Generate Reports
                </a>
            </td> *@
            <td>
                <a href="#"
                   onclick="alert('If you need help, follow the system guide.')"
                   style="background:white;color:#007bff;padding:8px 18px;
                          border-radius:8px;text-decoration:none;display:inline-block;
                          border:1px solid #007bff;font-size:14px;">
                    Help & Support
                </a>
            </td>
        </tr>
    </table>
</div>


<div style="display:flex; justify-content:space-between; margin-bottom:10px;">
    <div>
        <a href="/Lecturer/Dashboard"
           style="background:#6c757d; color:white; padding:10px 20px; border-radius:10px;
                  text-decoration:none; margin-right:10px;">← Back to Lecturer Dashboard</a>

        <a href="/Manager/Dashboard"
           style="background:#007bff; color:white; padding:10px 20px; border-radius:10px;
                  text-decoration:none;">Go to Manager Dashboard →</a>
    </div>

    <a href="/Lecturer/Dashboard"
       style="background:grey; color:white; padding:10px 20px; border-radius:10px;
              text-decoration:none;">Logout</a>
</div>



@if (TempData["Success"] != null)
{
    <div style="background:#d4edda; color:#155724; padding:10px; border-radius:8px; text-align:center; margin-bottom:15px;">
        @TempData["Success"]
    </div>
}

<div style="display:flex; flex-wrap:wrap; gap:25px; justify-content:center;">

    <!-- Claim Overview Box -->
    <div style="flex:1; min-width:260px; background:#f9f9f9; border-radius:15px; padding:20px;
                box-shadow:0 4px 10px rgba(0,0,0,0.1);">
        <h4 style="color:black;">Claim Overview</h4>
        <p><strong>Total Claims:</strong> @ViewBag.TotalClaims</p>
        <p><strong>Pending:</strong> @ViewBag.Pending</p>
        <p><strong>Approved:</strong> @ViewBag.Approved</p>
        <p><strong>Rejected:</strong> @ViewBag.Rejected</p>
    </div>

    <!-- Recent Activity Box -->
    <div style="flex:1; min-width:260px; background:#f9f9f9; border-radius:15px; padding:20px;
                box-shadow:0 4px 10px rgba(0,0,0,0.1);">
        <h4 style="color:black;">Recent Activity</h4>
        @if (ViewBag.RecentActivity != null && ((IEnumerable<prog_practice.Models.ClaimHistory>)ViewBag.RecentActivity).Any())
        {
            <ul style="list-style-type:none; padding:0;">
                @foreach (var h in (IEnumerable<prog_practice.Models.ClaimHistory>)ViewBag.RecentActivity)
                {
                    var claimTitle = h.Claim != null ? h.Claim.Title : "Unknown Claim";

                    <li style="margin-bottom:8px;">
                        <strong>Claim #@h.ClaimID — @claimTitle</strong><br />
                        <span>@h.Action</span><br />
                        <small style="color:gray;">
                            by @h.PerformedBy on @h.Timestamp.ToString("yyyy-MM-dd HH:mm")
                        </small>
                    </li>
                }
            </ul>
        }
        else
        {
            <p style="color:gray;">No recent activity yet.</p>
        }

    </div>
</div>

<br />

<!-- Claim List Table -->
<div style="max-width:950px; margin:auto; background:#f9f9f9; border-radius:15px; padding:20px;
            box-shadow:0 4px 10px rgba(0,0,0,0.1); font-family:Arial, sans-serif;">
    <h4 style="color:black; text-align:center;">All Submitted Claims</h4>

    <table style="width:100%; border-collapse:collapse; text-align:center;">
        <thead>
            <tr style="background:#007bff; color:white;">
                <th style="padding:10px;">ID</th>
                <th style="padding:10px;">Lecturer Name</th>
                <th style="padding:10px;">Title</th>
                <th style="padding:10px;">Month</th>
                <th style="padding:10px;">Amount</th>
                <th style="padding:10px;">Status</th>
                <th style="padding:10px;">Action</th>
            </tr>
        </thead>
        <tbody>
            @foreach (var claim in Model)
            {
                var color = claim.Status == "Approved" ? "green" : (claim.Status == "Rejected" ? "red" : "orange");
                <tr style="border-bottom:1px solid #eee;">
                    <td style="padding:10px;">@claim.ClaimID</td>
                    <td style="padding:10px;">@claim.LecturerName</td>
                    <td style="padding:10px;">@claim.Title</td>
                    <td style="padding:10px;">@claim.Month</td>
                    <td style="padding:10px;">@("R" + claim.Amount.ToString("0.00"))</td>
                    <td style="padding:10px; color:@color; font-weight:bold;">@claim.Status</td>
                    <td style="padding:10px;">
                        <a href="/Coordinator/VerifyClaim/@claim.ClaimID"
                           style="background:#28a745; color:white; padding:6px 10px; border-radius:8px; text-decoration:none;">
                            Verify
                        </a>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</div>

@* <!-- Reports & Analytics -->
<div style="margin-top:25px;background:#f9f9f9;border-radius:15px;padding:20px;
            box-shadow:0 4px 10px rgba(0,0,0,0.1);">
    <h4 style="color:black;">Reports & Analytics</h4>
    <p>You can download monthly summaries, lecturer performance reports, and claim history for audit purposes.</p>
    <a href="/Coordinator/DownloadReports"
       style="background:#007bff;color:white;padding:10px 20px;border-radius:10px;text-decoration:none;">
        Download Reports
    </a> *@
@* </div> *@


